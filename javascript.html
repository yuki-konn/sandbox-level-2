<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Javascript</title>
    <link rel="stylesheet" href="javascript.css" />
    <script src="javascript.js"></script>
  </head>
  <body>
    <header></header>
    <main>
      <!-- 11/4 -->
      <section>
        <h2>Functions</h2>
        <pre>
          <b>Activator function</b>
          -----------------------------------
          <code>
          function greeting() {
          display("Hello World!");
          }
          </code>
          A function that doesn't have parameters.
          Its only purpose is to call a function with parameters.

          Test results:
          A value can be sent to functions without parameters.
          Add a parameter to the function to access the value.

          <button onclick="greeting()">Activate me!</button><br>
          <button onclick="activatorTest('Hello world!')">Activator test</button>
        </pre>

        <pre>
          <b>Callback function</b>
          -----------------------------------
          <code>
          function myFunction(callbackFunction) {
            callbackFunction();
          }
          function activator() {
            myFunction(greeting);
          }
          activator();
          </code>
          A function that is passed as parameter.
          A function can be passed to another function.
          The function can run that function.

          <button onclick="activator()">Callback</button>
        </pre>

        <pre>
          <b>setTimeout</b>
          -----------------------------------
          <code>
          setTimeout(greeting, 5000);
          </code>
          A function that calls a function after a specified time.
          It accepts a function and a delay time in milliseconds.

          <button onclick="delayedGreeting()">Delayed greeting</button>
        </pre>

        <pre>
          <b>Asynchronous</b>
          -----------------------------------
          <code>
          function asynchronous() {
            setTimeout(greeting, 5000);
            display("Waiting for the greeting... ");
          }
          </code>
          Able to run other code while waiting for some code to respond.
          Like multitasking.

          How it works:
          1. Other code runs immediately after <code>SetTimeout</code>.
          2. The <code>greeting</code> function runs after the other code.

          <button onclick="asynchronous()">Delayed greeting</button>
        </pre>

        <pre>
          <b>Server simulation</b>
          -----------------------------------
          <code>
          setTimeout(serverResponse, 5000);
          </code>
          A server takes time to respond.
          Use asynchronous code to simulate it.
          <form onsubmit="submitForm(event)">
            <label for="email">Email: </label><br />
            <input
              id="email"
              name="email"
              type="email"
              placeholder="myemail@email.com"
              required
            /><br />
            <input type="submit" />
          </form>
        </pre>

        <pre>
          <b>JSON stringify</b>
          -----------------------------------
          <code>
          function displayObject() {
            const myCar = {
              color: "red",
              year: 2024,
            };
          
            const result = JSON.stringify(myCar);
            display(result);
          }
          </code>
          Generates a string from an object.
          Need to store the result.

          JSON - JavaScript Object Notation
          Servers communicate with stringified objects.
          The syntax we use to represent objects.
          - Curly braces represent an object.
          - Properties are seperated by a comma.
          - Properties are in quotes.
          - Values are set with a colon.

          <button onclick="displayObject()">Display object</button>
        </pre>

        <!-- 11/6 -->
        <pre>
          <b>JavaScript class</b>
          -----------------------------------
          <code>
          class MyCar {
            color = "red";
            year = 2024;
          }
          </code>
          A JavaScript class is like a template.
          It predefines an object without creating it.
          Ususally created towards the top of a JavaScript file.

          Class syntax:
          1. Keyword <code>class</code>
          2. Class name, usually in PascalCase.
             - PascalCase is like camelCase, but starts with a capital.
          3. Curly braces
          4. Assign properties their values.
             - Use equal signs and semi-colons.
        </pre>

        <pre>
          <b>JavaScript class vs object</b>
          -----------------------------------
          
          <code>
          class MyCar {
            color = "red";
            year = 2024;
          }
          
          const myCar = {
            color: "red",
            year: 2024,
          };
          </code>
          Directly displaying a class shows its code.
          In developer tools, a class has a name and length.
          The JavaScript class is different from a JavaScript object.
          The syntax of a class is different than an object.

          <button onclick="classVsObject()">class vs object</button>
        </pre>

        <pre>
          <b>Create a new object from a class</b>
          -----------------------------------
          <code>
          const myCar = new MyCar();
          const myCar2 = new MyCar();
          const myCar3 = new MyCar();

          myCar2.color = "white";
          myCar3.year = 2025;
          </code>
          The objects have the properties and values defined by the class.
          The objects are independent.
          - The values of their properties can be changed individually.

          Syntax:
          1. Keyword <code>new</code>
          2. Name of the class with parenthesis after it.
          3. Store the value.
             - The value is an object created from the class.

          <button onclick="newObject()">Create object from class</button>
        </pre>

        <!-- 11/7 -->
        <pre>
          <b>Function in a function (nested function)</b>
          -----------------------------------
          <code>
          function outerFunction() {
            const message = "Hello world!";
            innerFunction();
          
            function innerFunction() {
              display(message);
            }
          }
          </code>
          Functions can be defined in other functions.
          The inner function has access to variables in the outer function.
          Function scope (local scope) gives access to the variables.
          The inner function only runs when it's activated.

          <button onclick="outerFunction()">Nested function</button>
        </pre>

        <pre>
          <b>Promise</b>
          -----------------------------------
          <code>
          const promise = new Promise(myFunction);
          promise.then(getMessage);
          </code>
          A special class that runs a callback function.
          The object indicates that status of the callback function.
          A Promise is not asynchronous. It immediately runs the callback function.
          Status shows pending, even after myFunction has finished.
          The status must be manually changed.

          The callback function must indicate when it has finished.
          The Promise sends a callback function to the <code>myFunction</code>.
          That callback function to <code>myFunction</code> indicates that the Promise is fulfilled.
          The callback function is known as the <code>resolve</code> function.

          A Promise is meant to be used by asynchronous code.
          The asynchronous code is supposed to <code>resolve</code> indicate when it's done.

          <button onclick="makePromise()">Make promise</button>
        </pre>

        <pre>
          <b>Promise function</b>
          -----------------------------------
          <code>
          function myFunction(resolve) {
            setTimeout(serverResponse, 5000);
            display("Inside myFunction");
          
            function serverResponse() {
              display("Form was successfully processed.");
              resolve();
            }
          }
          </code>
          Use an inner function to give access to the resolve function.
        </pre>

        <pre>
          <b>The then function</b>
          -----------------------------------
          <code>
          promise.then(getMessage);

          function getMessage(resolveValue) {
            display(resolveValue);
          }
          </code>
          The <code>then</code> function runs the callback function when the promise is resolved(fulfilled).
          The callback function has access to the resolve value.
        </pre>

        <pre>
          <b>Resolve function and resolve value</b>
          -----------------------------------
          <code>
          resolve("The promise is fulfilled.");
          </code>
          The resolve function is a callback function.
          It is passed to the function that is given to the Promise.
          It indicates that the Promise is fulfilled.
          The resolve function is meant to be used by asynchronous code.
          The resolve value gets passed to the callback of the <code>then</code> function.
        </pre>
        <!-- 11/9 -->
        <pre>
          <b>Method</b>
          -----------------------------------
          <code>
          promise.then(getMessage);
          document.write("Hello World!");
          </code>
          A function that's part of an object.
        </pre>

        <!-- 11/9 slide 78 -->
        <pre>
          <b>Handler</b>
          -----------------------------------
          <code>
          onsubmit="submitForm(event)"
          </code>
          A handler is a function that runs in response to an event.
          Another example is <code>onclick</code> which can run a function in response to an event.

          Example events:
          1. When a form is submitted.
          2. When a button is clicked.
        </pre>

        <pre>
          <b>Handler naming convention</b>
          -----------------------------------
          <code>
          onsubmit="handleSubmit(event)"
          onclick="handleClick(event)"
          </code>
          A handler function usually starts with <code>handle</code>.
        </pre>

        <pre>
          Server Simulation with Promise
          -----------------------------------
          <form onsubmit="handleSubmit(event)">
            <label for="email">Email: </label><br />
            <input id="email" name="email" type="email" required /><br />
            <input type="submit" />
          </form>
        </pre>

        <pre>
          <b>JSON parse</b>
          -----------------------------------
          <code>
          const response = JSON.parse(resolveValue);
          </code>
          Parse: Analyze the data and convert it to a usable format.
          <code>JSON.parse</code> converts a string into an object.
        </pre>
      </section>
    </main>
    <footer></footer>
  </body>
</html>
